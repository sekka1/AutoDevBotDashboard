<!DOCTYPE html>
<html lang="en">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
    <title>AutoDevBot</title>
    <meta name="description" content="AutoDevBot API monitoring dashboard.  ">
    <meta name="author" content="AutoDevBot.com">
    <meta name="keyword" content="AutoDevBot API monitoring REST node.js php java app applications">
	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/css/style.min.css" rel="stylesheet">
	<link href="assets/css/retina.min.css" rel="stylesheet">
	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<script src="assets/js/respond.min.js"></script>
		<script src="assets/css/ie6-8.css"></script>
		
	<![endif]-->

    <!-- start: Favicon and Touch Icons -->
    <link href='assets/ico/favicon.ico' rel='shortcut icon' type='image/x-icon'>
    <!-- end: Favicon and Touch Icons -->
		
</head>

<body>
		<div class="container">
		<div class="row">
					
			<div class="row">

				<div class="login-box" id="loginBox">

					<h2>Login to your account</h2>
					<form id="loginForm" class="form-horizontal" action="dashboard.html" method="post">
						<fieldset>
							
							<input class="input-large col-xs-12" name="email" id="email" type="text" placeholder="Email"/>

							<input class="input-large col-xs-12" name="password" id="password" type="password" placeholder="Password"/>

							<div class="clearfix"></div>
							
							<label class="remember" for="remember"><input type="checkbox" id="remember" />Remember me</label>
							
							<div class="clearfix"></div>
							
							<button id="submitAction" type="submit" class="btn btn-primary col-xs-12">Login</button>
						</fieldset>	

					</form>
					<hr>
					<h3>Forgot Password?</h3>
					<p>
						No problem, email <a href="mailto:support@autodevbot.com">support@AutoDevBot.com</a> to get a new password.
					</p>	
				</div>
			</div><!--/row-->
			
				</div><!--/row-->		
		
	</div><!--/container-->
	
	
	<!-- start: JavaScript-->
	<!--[if !IE]>-->

			<script src="assets/js/jquery-2.0.3.min.js"></script>

	<!--<![endif]-->

	<!--[if IE]>
	
		<script src="assets/js/jquery-1.10.2.min.js"></script>
	
	<![endif]-->

	<!--[if !IE]>-->

		<script type="text/javascript">
			window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
			</script>

	<!--<![endif]-->

	<!--[if IE]>
	
		<script type="text/javascript">
	 	window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
		</script>
		
	<![endif]-->
	<script src="assets/js/jquery-migrate-1.2.1.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	
		
	
		
	<!-- theme scripts -->
	<script src="assets/js/custom.min.js"></script>
	<script src="assets/js/core.min.js"></script>


        <script>

            $( document ).ready(function() {

                $( "#submitAction" ).click(function() {

                    $.ajax({
                        url: 'https://api.autodevbot.com/v1.0/authenticate',
                        type: 'post',
                        data: $('form#loginForm').serialize(),
                        success: function(response) {
                            //console.log(response);

                            var returnObj = JSON.parse(response);

                            console.log('statusCode: '+returnObj.statusCode);
                            console.log('user_id: '+returnObj.user.id);
                            console.log('token: '+returnObj.token.id);

                            if(returnObj.statusCode == 200){
                                // Was successful creating a user

                                window.location.href = 'https://api.autodevbot.com/dashboard/live.html?user_id='+returnObj.user.id+'&token='+returnObj.token.id;
                            }else{
                                console.log('There was an error with authentication');
                            }
                        },
                        error: function (request, status, error) {
                            console.log('There was an error with authentication');
                            //console.log('status code: '+status);
                            //console.log(error);
                            console.log(request.responseText);

                            serverResponse = JSON.parse(request.responseText);

                            if(serverResponse.statusCode==401
                                    || serverResponse.statusCode==400){
                                console.log('Invalid username or password');
                                console.log('server msg: '+serverResponse.error.title);

                                $("#loginBox").prepend('<div class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">Ã—</button><strong>Invalid Credentials!</strong> Please check if you have entered the correct username and password.</div>');
                            }
                        }
                    });
                    return false; // prevent page reload
                });
            });


        </script>


	<!-- end: JavaScript-->
	
</body>
</html>